{"version":3,"sources":["../../src/models/Lang.js"],"names":["ObjectId","mongoose","Schema","Types","langSchema","card","type","required","key","String","text","audio","Lang","module","exports","model","getByCards","cards","err","lang","langsId","langs","i","length","findById"],"mappings":";;;;AAAA;;;;AACA;;;;;;;;;;AAEA,IAAIA,WAAWC,mBAASC,MAAT,CAAgBC,KAAhB,CAAsBH,QAArC;AACA,IAAII,aAAaH,mBAASC,MAAT,CAAgB;AAC/BG,QAAM;AACJC,UAAMN,QADF;AAEJO,cAAU;AAFN,GADyB;AAK/BC,OAAK;AACHF,UAAMG,MADH;AAEHF,cAAU;AAFP,GAL0B;AAS/BG,QAAM;AACJJ,UAAMG,MADF;AAEJF,cAAU;AAFN,GATyB;AAa/BI,SAAO;AACLL,UAAMG;AADD;AAbwB,CAAhB,CAAjB;;AAkBA,IAAIG,OAAOC,OAAOC,OAAP,GAAiBb,mBAASc,KAAT,CAAe,MAAf,EAAuBX,UAAvB,CAA5B;;AAEAS,OAAOC,OAAP,CAAeE,UAAf;AAAA,qEAA4B,iBAAOC,KAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AACtBC,eADsB,WACjBC,IADiB;AAEtBC,mBAFsB,GAEZ,EAFY;AAGtBC,iBAHsB,GAGd,EAHc;;;AAK1B,iBAAQC,CAAR,GAAU,CAAV,EAAYA,IAAEL,MAAMM,MAApB,EAA2BD,GAA3B,EAA+B;AAC7BF,qDAAcA,OAAd,sBAA0BH,MAAMK,CAAN,EAASD,KAAnC;AACD;;AAEOC,aATkB,GAShB,CATgB;;AAAA;AAAA,kBASdA,IAAEF,QAAQG,MATI;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAUJ,kBAAGX,KAAKY,QAAL,CAAcJ,QAAQE,CAAR,CAAd,CAAH,CAVI;;AAAA;AAAA;AAAA;AAUvBJ,eAVuB;AAUlBC,gBAVkB;;AAWxBE,iDAAYA,KAAZ,IAAmBF,IAAnB;;AAXwB;AASGG,eATH;AAAA;AAAA;;AAAA;AAAA,6CAcnB,CAACJ,GAAD,EAAMG,KAAN,EAAaD,OAAb,CAdmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA5B;;AAAA;AAAA;AAAA;AAAA","file":"Lang.js","sourcesContent":["import mongoose from 'mongoose';\r\nimport to from'../to';\r\n\r\nvar ObjectId = mongoose.Schema.Types.ObjectId;\r\nvar langSchema = mongoose.Schema({\r\n  card: {\r\n    type: ObjectId,\r\n    required: true\r\n  },\r\n  key: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  text: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  audio: {\r\n    type: String\r\n  }\r\n})\r\n\r\nvar Lang = module.exports = mongoose.model('lang', langSchema);\r\n\r\nmodule.exports.getByCards = async (cards)=>{\r\n  let err, lang;\r\n  let langsId = [];\r\n  let langs = [];\r\n\r\n  for(var i=0;i<cards.length;i++){\r\n    langsId = [...langsId, ...cards[i].langs];\r\n  }\r\n\r\n  for(var i=0;i<langsId.length;i++){\r\n    [err, lang] = await to(Lang.findById(langsId[i]));\r\n    langs = [...langs, lang];\r\n  }\r\n\r\n  return [err, langs, langsId];\r\n}\r\n"]}